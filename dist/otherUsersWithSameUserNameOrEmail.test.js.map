{"version":3,"sources":["../dist-esnext/otherUsersWithSameUserNameOrEmail.test.js"],"names":["assert","V","User","describe","it","userBefore","createUser","userName","email","displayName","userAfter","otherUsersWithSameUserNameOrEmail","emptyArray","errors","otherUser","error","propName","errorMsg","allErrors","ERROR_USER_USERNAME_IN_USE","ok","containsError","ERROR_USER_EMAIL_IN_USE"],"mappings":";;AAAA;;IAAYA,M;;AACZ;;IAAYC,C;;AACZ;;IAAYC,I;;;;AACZC,SAAS,mCAAT,EAA8C,YAAM;AAChDC,OAAG,2CAAH,EAAgD,YAAM;AAClD,YAAMC,aAAaH,KAAKI,UAAL,CAAgB;AAC/BC,sBAAU,aADqB;AAE/BC,mBAAO,0BAFwB;AAG/BC,yBAAa;AAHkB,SAAhB,CAAnB;AAKA,YAAMC,YAAYR,KAAKS,iCAAL,CAAuCN,UAAvC,EAAmD,EAAnD,CAAlB;AACAL,eAAOY,UAAP,CAAkBF,UAAUG,MAA5B;AACH,KARD;AASAT,OAAG,0CAAH,EAA+C,YAAM;AACjD,YAAMC,aAAaH,KAAKI,UAAL,CAAgB;AAC/BC,sBAAU,aADqB;AAE/BC,mBAAO,0BAFwB;AAG/BC,yBAAa;AAHkB,SAAhB,CAAnB;AAKA,YAAMC,YAAYR,KAAKS,iCAAL,CAAuCN,UAAvC,EAAmD,IAAnD,CAAlB;AACAL,eAAOY,UAAP,CAAkBF,UAAUG,MAA5B;AACH,KARD;AASAT,OAAG,wCAAH,EAA6C,YAAM;AAC/C,YAAMC,aAAaH,KAAKI,UAAL,CAAgB;AAC/BC,sBAAU,aADqB;AAE/BC,mBAAO,0BAFwB;AAG/BC,yBAAa;AAHkB,SAAhB,CAAnB;AAKA,YAAMK,YAAY;AACdP,sBAAU,aADI;AAEdC,mBAAO,uBAFO;AAGdC,yBAAa;AAHC,SAAlB;AAKA,YAAMC,YAAYR,KAAKS,iCAAL,CAAuCN,UAAvC,EAAmD,CAACS,SAAD,CAAnD,CAAlB;AACA,YAAMC,QAAQ,EAAEC,UAAU,UAAZ,EAAwBC,UAAUf,KAAKgB,SAAL,CAAeC,0BAAjD,EAAd;AACAnB,eAAOoB,EAAP,CAAUnB,EAAEoB,aAAF,CAAgBN,KAAhB,EAAuBL,UAAUG,MAAjC,CAAV;AACH,KAdD;AAeAT,OAAG,qCAAH,EAA0C,YAAM;AAC5C,YAAMC,aAAaH,KAAKI,UAAL,CAAgB;AAC/BC,sBAAU,aADqB;AAE/BC,mBAAO,0BAFwB;AAG/BC,yBAAa;AAHkB,SAAhB,CAAnB;AAKA,YAAMK,YAAY;AACdP,sBAAU,aADI;AAEdC,mBAAO,0BAFO;AAGdC,yBAAa;AAHC,SAAlB;AAKA,YAAMC,YAAYR,KAAKS,iCAAL,CAAuCN,UAAvC,EAAmD,CAACS,SAAD,CAAnD,CAAlB;AACA,YAAMC,QAAQ,EAAEC,UAAU,OAAZ,EAAqBC,UAAUf,KAAKgB,SAAL,CAAeI,uBAA9C,EAAd;AACAtB,eAAOoB,EAAP,CAAUnB,EAAEoB,aAAF,CAAgBN,KAAhB,EAAuBL,UAAUG,MAAjC,CAAV;AACH,KAdD;AAeH,CAjDD;AAkDA","file":"otherUsersWithSameUserNameOrEmail.test.js","sourcesContent":["import * as assert from 'ptz-assert';\nimport * as V from 'ptz-validations';\nimport * as User from './index';\ndescribe('otherUsersWithSameUserNameOrEmail', () => {\n    it('do NOT add error when otherUsers is empty', () => {\n        const userBefore = User.createUser({\n            userName: 'allanegidio',\n            email: 'allan.egidio@outlook.com',\n            displayName: 'Allan Egidio'\n        });\n        const userAfter = User.otherUsersWithSameUserNameOrEmail(userBefore, []);\n        assert.emptyArray(userAfter.errors);\n    });\n    it('do NOT add error when otherUsers is null', () => {\n        const userBefore = User.createUser({\n            userName: 'allanegidio',\n            email: 'allan.egidio@outlook.com',\n            displayName: 'Allan Egidio'\n        });\n        const userAfter = User.otherUsersWithSameUserNameOrEmail(userBefore, null);\n        assert.emptyArray(userAfter.errors);\n    });\n    it('add error when userName already in use', () => {\n        const userBefore = User.createUser({\n            userName: 'allanegidio',\n            email: 'allan.egidio@outlook.com',\n            displayName: 'Allan Egidio'\n        });\n        const otherUser = {\n            userName: 'allanegidio',\n            email: 'angeloocana@gmail.com',\n            displayName: 'Angelo Ocana'\n        };\n        const userAfter = User.otherUsersWithSameUserNameOrEmail(userBefore, [otherUser]);\n        const error = { propName: 'userName', errorMsg: User.allErrors.ERROR_USER_USERNAME_IN_USE };\n        assert.ok(V.containsError(error, userAfter.errors));\n    });\n    it('add error when email already in use', () => {\n        const userBefore = User.createUser({\n            userName: 'allanegidio',\n            email: 'allan.egidio@outlook.com',\n            displayName: 'Allan Egidio'\n        });\n        const otherUser = {\n            userName: 'angeloocana',\n            email: 'allan.egidio@outlook.com',\n            displayName: 'Allan Egidio'\n        };\n        const userAfter = User.otherUsersWithSameUserNameOrEmail(userBefore, [otherUser]);\n        const error = { propName: 'email', errorMsg: User.allErrors.ERROR_USER_EMAIL_IN_USE };\n        assert.ok(V.containsError(error, userAfter.errors));\n    });\n});\n//# sourceMappingURL=otherUsersWithSameUserNameOrEmail.test.js.map"]}