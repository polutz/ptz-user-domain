{"version":3,"sources":["../dist-esnext/otherUsersWithSameUserNameOrEmail.js"],"names":["V","otherUsersWithSameUserNameOrEmail","user","otherUsers","addError","filter","otherUser","userName","length","ERROR_USER_USERNAME_IN_USE","email","ERROR_USER_EMAIL_IN_USE"],"mappings":";;;;;;;AAAA;;IAAYA,C;;AACZ;;;;;;;;AACA;;;;;AAKO,IAAMC,gFAAoC,SAApCA,iCAAoC,CAACC,IAAD,EAAOC,UAAP,EAAsB;AACnE,QAAI,CAACA,UAAL,EACI,OAAOD,IAAP;AACJ,QAAME,WAAWJ,EAAEI,QAAF,CAAWF,IAAX,CAAjB;AACA,QAAIC,WAAWE,MAAX,CAAkB;AAAA,eAAaC,UAAUC,QAAV,KAAuBL,KAAKK,QAAzC;AAAA,KAAlB,EAAqEC,MAArE,GAA8E,CAAlF,EACI,OAAOJ,SAAS,UAAT,EAAqB,oBAAUK,0BAA/B,CAAP;AACJ,QAAIN,WAAWE,MAAX,CAAkB;AAAA,eAAaC,UAAUI,KAAV,KAAoBR,KAAKQ,KAAtC;AAAA,KAAlB,EAA+DF,MAA/D,GAAwE,CAA5E,EACI,OAAOJ,SAAS,OAAT,EAAkB,oBAAUO,uBAA5B,CAAP;AACJ,WAAOT,IAAP;AACH,CATM;AAUP","file":"otherUsersWithSameUserNameOrEmail.js","sourcesContent":["import * as V from '@alanmarcell/ptz-validations';\nimport allErrors from './allErrors';\n/**\n * Add error to user.errors when there is other users with same userName or email.\n * @param user current user.\n * @param otherUsers other users with same userName or email.\n */\nexport const otherUsersWithSameUserNameOrEmail = (user, otherUsers) => {\n    if (!otherUsers)\n        return user;\n    const addError = V.addError(user);\n    if (otherUsers.filter(otherUser => otherUser.userName === user.userName).length > 0)\n        return addError('userName', allErrors.ERROR_USER_USERNAME_IN_USE);\n    if (otherUsers.filter(otherUser => otherUser.email === user.email).length > 0)\n        return addError('email', allErrors.ERROR_USER_EMAIL_IN_USE);\n    return user;\n};\n//# sourceMappingURL=otherUsersWithSameUserNameOrEmail.js.map"]}