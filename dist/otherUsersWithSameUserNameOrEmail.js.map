{"version":3,"sources":["../dist-esnext/otherUsersWithSameUserNameOrEmail.js"],"names":["V","otherUsersWithSameUserNameOrEmail","user","otherUsers","addError","filter","otherUser","userName","length","ERROR_USER_USERNAME_IN_USE","email","ERROR_USER_EMAIL_IN_USE"],"mappings":";;;;;;;AAAA;;IAAYA,C;;AACZ;;;;;;;;AACA;;;;;AAKO,MAAMC,gFAAoC,CAACC,IAAD,EAAOC,UAAP,KAAsB;AACnE,QAAI,CAACA,UAAL,EACI,OAAOD,IAAP;AACJ,UAAME,WAAWJ,EAAEI,QAAF,CAAWF,IAAX,CAAjB;AACA,QAAIC,WAAWE,MAAX,CAAkBC,aAAaA,UAAUC,QAAV,KAAuBL,KAAKK,QAA3D,EAAqEC,MAArE,GAA8E,CAAlF,EACI,OAAOJ,SAAS,UAAT,EAAqB,oBAAUK,0BAA/B,CAAP;AACJ,QAAIN,WAAWE,MAAX,CAAkBC,aAAaA,UAAUI,KAAV,KAAoBR,KAAKQ,KAAxD,EAA+DF,MAA/D,GAAwE,CAA5E,EACI,OAAOJ,SAAS,OAAT,EAAkB,oBAAUO,uBAA5B,CAAP;AACJ,WAAOT,IAAP;AACH,CATM;AAUP","file":"otherUsersWithSameUserNameOrEmail.js","sourcesContent":["import * as V from 'ptz-validations';\r\nimport allErrors from './allErrors';\r\n/**\r\n * Add error to user.errors when there is other users with same userName or email.\r\n * @param user current user.\r\n * @param otherUsers other users with same userName or email.\r\n */\r\nexport const otherUsersWithSameUserNameOrEmail = (user, otherUsers) => {\r\n    if (!otherUsers)\r\n        return user;\r\n    const addError = V.addError(user);\r\n    if (otherUsers.filter(otherUser => otherUser.userName === user.userName).length > 0)\r\n        return addError('userName', allErrors.ERROR_USER_USERNAME_IN_USE);\r\n    if (otherUsers.filter(otherUser => otherUser.email === user.email).length > 0)\r\n        return addError('email', allErrors.ERROR_USER_EMAIL_IN_USE);\r\n    return user;\r\n};\r\n//# sourceMappingURL=otherUsersWithSameUserNameOrEmail.js.map"]}